import{r as t,h as e,g as n,a as r}from"./p-09e97601.js";import{S as o,c as i,a as s,g as c,s as a,m as u,b as f,d as l,e as h,f as d,h as p,i as v,j as b,k as g,l as y,n as w,o as m,p as j,q as O,r as E,t as x,u as A}from"./p-c35eee47.js";import{A as k}from"./p-1cf8aa3a.js";function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var T="function"==typeof Symbol&&Symbol.observable||"@@observable",D=function(){return Math.random().toString(36).substring(7).split("").join(".")},L={INIT:"@@redux/INIT"+D(),REPLACE:"@@redux/REPLACE"+D(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+D()}};function R(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function M(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(C(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(C(1));return n(M)(t,e)}if("function"!=typeof t)throw new Error(C(2));var o=t,i=e,s=[],c=s,a=!1;function u(){c===s&&(c=s.slice())}function f(){if(a)throw new Error(C(3));return i}function l(t){if("function"!=typeof t)throw new Error(C(4));if(a)throw new Error(C(5));var e=!0;return u(),c.push(t),function(){if(e){if(a)throw new Error(C(6));e=!1,u();var n=c.indexOf(t);c.splice(n,1),s=null}}}function h(t){if(!R(t))throw new Error(C(7));if(void 0===t.type)throw new Error(C(8));if(a)throw new Error(C(9));try{a=!0,i=o(i,t)}finally{a=!1}for(var e=s=c,n=0;n<e.length;n++)(0,e[n])();return t}function d(t){if("function"!=typeof t)throw new Error(C(10));o=t,h({type:L.REPLACE})}function p(){var t,e=l;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(C(11));function n(){t.next&&t.next(f())}return n(),{unsubscribe:e(n)}}})[T]=function(){return this},t}return h({type:L.INIT}),(r={dispatch:h,subscribe:l,getState:f,replaceReducer:d})[T]=p,r}function U(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}const H=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,s=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:L.INIT}))throw new Error(C(12));if(void 0===n(void 0,{type:L.PROBE_UNKNOWN_ACTION()}))throw new Error(C(13))}))}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},c=0;c<s.length;c++){var a=s[c],u=t[a],f=(0,n[a])(u,e);if(void 0===f)throw new Error(C(14));o[a]=f,r=r||f!==u}return(r=r||s.length!==Object.keys(t).length)?o:t}}({pokemonSearchReducer:(t={searchTerm:"",pokemon:void 0,evolutionChain:void 0},e)=>{switch(e.type){case o.TEXT_CHANGED:return Object.assign(Object.assign({},t),{searchTerm:e.payload.newSearchTerm});case o.LOOKUP_EVOLUTION_CHAIN_START:return Object.assign(Object.assign({},t),{pokemon:void 0,evolutionChain:void 0,exception:void 0});case o.LOOKUP_POKEMON_SUCCEEDED:return Object.assign(Object.assign({},t),{pokemon:e.payload.pokemon});case o.LOOKUP_POKEMON_ERROR:case o.LOOKUP_SPECIES_ERROR:case o.LOOKUP_EVOLUTION_CHAIN_ERROR:return Object.assign(Object.assign({},t),{exception:e.payload.exception,pokemon:void 0,evolutionChain:void 0});case o.LOOKUP_EVOLUTION_CHAIN_SUCCEEDED:return Object.assign(Object.assign({},t),{evolutionChain:e.payload.evolutionChain,exception:void 0})}return t}});function _(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var F=_();F.withExtraArgument=_;const I=c(i((function(t,e){!function(t){function e(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function n(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function r(t,e,n){r.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function i(t,e){i.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function c(t,e,n){c.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function a(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function u(t){var e=void 0===t?"undefined":A(t);return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"function"==typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function f(t,e,n,s,l,h,d){d=d||[];var p=(l=l||[]).slice(0);if(void 0!==h){if(s){if("function"==typeof s&&s(p,h))return;if("object"===(void 0===s?"undefined":A(s))){if(s.prefilter&&s.prefilter(p,h))return;if(s.normalize){var v=s.normalize(p,h,t,e);v&&(t=v[0],e=v[1])}}}p.push(h)}"regexp"===u(t)&&"regexp"===u(e)&&(t=t.toString(),e=e.toString());var b=void 0===t?"undefined":A(t),g=void 0===e?"undefined":A(e),y="undefined"!==b||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),w="undefined"!==g||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!y&&w)n(new o(p,e));else if(!w&&y)n(new i(p,t));else if(u(t)!==u(e))n(new r(p,t,e));else if("date"===u(t)&&t-e!=0)n(new r(p,t,e));else if("object"===b&&null!==t&&null!==e)if(d.filter((function(e){return e.lhs===t})).length)t!==e&&n(new r(p,t,e));else{if(d.push({lhs:t,rhs:e}),Array.isArray(t)){var m;for(m=0;m<t.length;m++)m>=e.length?n(new c(p,m,new i(void 0,t[m]))):f(t[m],e[m],n,s,p,m,d);for(;m<e.length;)n(new c(p,m,new o(void 0,e[m++])))}else{var j=Object.keys(t),O=Object.keys(e);j.forEach((function(r){var o=O.indexOf(r);o>=0?(f(t[r],e[r],n,s,p,r,d),O=a(O,o)):f(t[r],void 0,n,s,p,r,d)})),O.forEach((function(t){f(void 0,e[t],n,s,p,t,d)}))}d.length=d.length-1}else t!==e&&("number"===b&&isNaN(t)&&isNaN(e)||n(new r(p,t,e)))}function l(t,e,n,r){return r=r||[],f(t,e,(function(t){t&&r.push(t)}),n),r.length?r:void 0}function h(t,e,n){if(n.path&&n.path.length){var r,o=t[e],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":h(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(t[e],n.index,n.item);break;case"D":t=a(t,e);break;case"E":case"N":t[e]=n.rhs}return t}function d(t,e,n){if(t&&e&&n&&n.kind){for(var r=t,o=-1,i=n.path?n.path.length-1:0;++o<i;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":h(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function p(t,e,n){if(n.path&&n.path.length){var r,o=t[e],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":p(t[e],n.index,n.item);break;case"D":case"E":t[e]=n.lhs;break;case"N":t=a(t,e)}return t}function v(t){return"color: "+S[t].color+"; font-weight: bold"}function b(t,e,n,r){var o=l(t,e);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(t){n.log("diff")}o?o.forEach((function(t){var e=t.kind,r=function(t){var e=t.path,n=t.lhs,r=t.rhs,o=t.index,i=t.item;switch(t.kind){case"E":return[e.join("."),n,"→",r];case"N":return[e.join("."),r];case"D":return[e.join(".")];case"A":return[e.join(".")+"["+o+"]",i];default:return[]}}(t);n.log.apply(n,["%c "+S[e].text,v(e)].concat(k(r)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(t){n.log("—— diff end —— ")}}function g(t,e,n,r){switch(void 0===t?"undefined":A(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,k(n)):t[r];case"function":return t(e);default:return t}}function y(t,e){var n=e.logger,r=e.actionTransformer,o=e.titleFormatter,i=void 0===o?function(t){var e=t.timestamp,n=t.duration;return function(t,r,o){var i=["action"];return i.push("%c"+String(t.type)),e&&i.push("%c@ "+r),n&&i.push("%c(in "+o.toFixed(2)+" ms)"),i.join(" ")}}(e):o,s=e.collapsed,c=e.colors,a=e.level,u=e.diff,f=void 0===e.titleFormatter;t.forEach((function(o,l){var h=o.startedTime,d=o.action,p=o.prevState,v=o.error,y=o.took,w=o.nextState,m=t[l+1];m&&(w=m.prevState,y=m.started-o.started);var j=r(d),O="function"==typeof s?s((function(){return w}),d,o):s,x=E(h),A=c.title?"color: "+c.title(j)+";":"",k=["color: gray; font-weight: lighter;"];k.push(A),e.timestamp&&k.push("color: gray; font-weight: lighter;"),e.duration&&k.push("color: gray; font-weight: lighter;");var P=i(j,x,y);try{O?c.title&&f?n.groupCollapsed.apply(n,["%c "+P].concat(k)):n.groupCollapsed(P):c.title&&f?n.group.apply(n,["%c "+P].concat(k)):n.group(P)}catch(t){n.log(P)}var S=g(a,j,[p],"prevState"),N=g(a,j,[j],"action"),C=g(a,j,[v,p],"error"),T=g(a,j,[w],"nextState");if(S)if(c.prevState){var D="color: "+c.prevState(p)+"; font-weight: bold";n[S]("%c prev state",D,p)}else n[S]("prev state",p);if(N)if(c.action){var L="color: "+c.action(j)+"; font-weight: bold";n[N]("%c action    ",L,j)}else n[N]("action    ",j);if(v&&C)if(c.error){var R="color: "+c.error(v,p)+"; font-weight: bold;";n[C]("%c error     ",R,v)}else n[C]("error     ",v);if(T)if(c.nextState){var M="color: "+c.nextState(w)+"; font-weight: bold";n[T]("%c next state",M,w)}else n[T]("next state",w);u&&b(p,w,n,O);try{n.groupEnd()}catch(t){n.log("—— log end ——")}}))}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({},N,t),n=e.stateTransformer,r=e.errorTransformer,o=e.predicate,i=e.logErrors,s=e.diffPredicate;if(void 0===e.logger)return function(){return function(t){return function(e){return t(e)}}};if(t.getState&&t.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(t){return function(e){return t(e)}}};var c=[];return function(t){var a=t.getState;return function(t){return function(u){if("function"==typeof o&&!o(a,u))return t(u);var f={};c.push(f),f.started=x.now(),f.startedTime=new Date,f.prevState=n(a()),f.action=u;var l=void 0;if(i)try{l=t(u)}catch(t){f.error=r(t)}else l=t(u);f.took=x.now()-f.started,f.nextState=n(a());var h=e.diff&&"function"==typeof s?s(a,u):e.diff;if(y(c,Object.assign({},e,{diff:h})),c.length=0,f.error)throw f.error;return l}}}}var m,j,O=function(t,e){return function(t,e){return new Array(e+1).join(t)}("0",e-t.toString().length)+t},E=function(t){return O(t.getHours(),2)+":"+O(t.getMinutes(),2)+":"+O(t.getSeconds(),2)+"."+O(t.getMilliseconds(),3)},x="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},P=[];m="object"===(void 0===s?"undefined":A(s))&&s?s:"undefined"!=typeof window?window:{},(j=m.DeepDiff)&&P.push((function(){void 0!==j&&m.DeepDiff===l&&(m.DeepDiff=j,j=void 0)})),e(r,n),e(o,n),e(i,n),e(c,n),Object.defineProperties(l,{diff:{value:l,enumerable:!0},observableDiff:{value:f,enumerable:!0},applyDiff:{value:function(t,e,n){t&&e&&f(t,e,(function(r){n&&!n(t,e,r)||d(t,e,r)}))},enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:function(t,e,n){if(t&&e&&n&&n.kind){var r,o,i=t;for(o=n.path.length-1,r=0;r<o;r++)void 0===i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==j},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach((function(t){t()})),P=null),l},enumerable:!0}});var S={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},N={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.dispatch,n=t.getState;return"function"==typeof e||"function"==typeof n?w()({dispatch:e,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=N,t.createLogger=w,t.logger=C,t.default=C,Object.defineProperty(t,"__esModule",{value:!0})}(e)})));let B=class{constructor(e){t(this,e)}componentWillLoad(){a.setStore(M(H,{},function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(C(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return r=U.apply(void 0,i)(n.dispatch),N(N({},n),{},{dispatch:r})}}}(F,I)))}render(){return e("div",null,e("header",null,e("h1",null,"Pokémon Evolution Chains")),e("main",null,e("stencil-router",null,e("stencil-route-switch",{scrollTopOffset:0},e("stencil-route",{url:"/",component:"app-home",exact:!0}),e("stencil-route",{url:"/profile/:name",component:"app-profile"})))))}};B.style="header{background:#5851ff;color:white;height:56px;display:flex;align-items:center;box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26)}h1{font-size:1.4rem;font-weight:500;color:#fff;padding:0 12px}";let W=class{constructor(e){t(this,e),this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(t){const e=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(t&&!e)return this.previousMatch=this.match,this.match=u(t.pathname,{path:this.url,exact:this.exact,strict:!0})}async loadCompleted(){let t={};this.history&&this.history.location.hash?t={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(t={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(t):this.match&&!f(this.match,this.previousMatch)&&this.routeViewsUpdated&&this.routeViewsUpdated(t)}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history)return null;const t=Object.assign({},this.componentProps,{history:this.history,match:this.match});return this.routeRender?this.routeRender(Object.assign({},t,{component:this.component})):this.component?e(this.component,Object.assign({},t)):void 0}get el(){return n(this)}static get watchers(){return{location:["computeMatch"]}}};k.injectProps(W,["location","history","historyType","routeViewsUpdated"]),W.style="stencil-route.inactive{display:none}";const Y=t=>"STENCIL-ROUTE"===t.tagName;let q=class{constructor(e){t(this,e),this.group=((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[],this.queue=r(this,"queue")}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}async regenerateSubscribers(t){if(null==t)return;let e=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(Y).map(((n,r)=>{const o=u(t.pathname,{path:n.url,exact:n.exact,strict:!0});return o&&-1===e&&(e=r),{el:n,match:o}})),-1===e)return;if(this.activeIndex===e)return void(this.subscribers[e].el.match=this.subscribers[e].match);this.activeIndex=e;const n=this.subscribers[this.activeIndex];this.scrollTopOffset&&(n.el.scrollTopOffset=this.scrollTopOffset),n.el.group=this.group,n.el.match=n.match,n.el.componentUpdated=t=>{this.queue.write((()=>{this.subscribers.forEach(((t,e)=>{if(t.el.componentUpdated=void 0,e===this.activeIndex)return t.el.style.display="";this.scrollTopOffset&&(t.el.scrollTopOffset=this.scrollTopOffset),t.el.group=this.group,t.el.match=null,t.el.style.display="none"}))})),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))}}render(){return e("slot",null)}get el(){return n(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};k.injectProps(q,["location","routeViewsUpdated"]);const G=(t,...e)=>{t||console.warn(...e)},K=()=>{let t,e=[];return{setPrompt:e=>(G(null==t,"A history supports only one prompt at a time"),t=e,()=>{t===e&&(t=null)}),confirmTransitionTo:(e,n,r,o)=>{if(null!=t){const i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof r?r(i,o):(G(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==i)}else o(!0)},appendListener:t=>{let n=!0;const r=(...e)=>{n&&t(...e)};return e.push(r),()=>{n=!1,e=e.filter((t=>t!==r))}},notifyListeners:(...t)=>{e.forEach((e=>e(...t)))}}},V=(t,e="scrollPositions")=>{let n=new Map;const r=(e,r)=>{if(n.set(e,r),l(t,"sessionStorage")){const e=[];n.forEach(((t,n)=>{e.push([n,t])})),t.sessionStorage.setItem("scrollPositions",JSON.stringify(e))}};if(l(t,"sessionStorage")){const r=t.sessionStorage.getItem(e);n=r?new Map(JSON.parse(r)):n}return"scrollRestoration"in t.history&&(history.scrollRestoration="manual"),{set:r,get:t=>n.get(t),has:t=>n.has(t),capture:e=>{r(e,[t.scrollX,t.scrollY])}}},J={hashbang:{encodePath:t=>"!"===t.charAt(0)?t:"!/"+x(t),decodePath:t=>"!"===t.charAt(0)?t.substr(1):t},noslash:{encodePath:x,decodePath:v},slash:{encodePath:v,decodePath:v}},z=(t,e)=>{const n=0==t.pathname.indexOf(e)?"/"+t.pathname.slice(e.length):t.pathname;return Object.assign({},t,{pathname:n})},Q={browser:(t,e={})=>{let n=!1;const r=t.history,o=t.location,i=t.navigator,s=h(t),c=!d(i),a=V(t),u=null!=e.forceRefresh&&e.forceRefresh,f=null!=e.getUserConfirmation?e.getUserConfirmation:j,l=null!=e.keyLength?e.keyLength:6,E=e.basename?p(v(e.basename)):"",x=()=>{try{return t.history.state||{}}catch(t){return{}}},A=t=>{t=t||{};const{key:e,state:n}=t,{pathname:r,search:i,hash:s}=o;let c=r+i+s;return G(!E||y(c,E),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+c+'" to begin with "'+E+'".'),E&&(c=w(c,E)),b(c,n,e||g(l))},k=K(),P=t=>{a.capture(F.location.key),Object.assign(F,t),F.location.scrollPosition=a.get(F.location.key),F.length=r.length,k.notifyListeners(F.location,F.action)},S=t=>{O(i,t)||C(A(t.state))},N=()=>{C(A(x()))},C=t=>{if(n)n=!1,P();else{const e="POP";k.confirmTransitionTo(t,e,f,(n=>{n?P({action:e,location:t}):T(t)}))}},T=t=>{let e=L.indexOf(F.location.key),r=L.indexOf(t.key);-1===e&&(e=0),-1===r&&(r=0);const o=e-r;o&&(n=!0,H(o))},D=A(x());let L=[D.key],R=0,M=!1;const U=t=>E+m(t),H=t=>{r.go(t)},_=e=>{R+=e,1===R?(t.addEventListener("popstate",S),c&&t.addEventListener("hashchange",N)):0===R&&(t.removeEventListener("popstate",S),c&&t.removeEventListener("hashchange",N))},F={length:r.length,action:"POP",location:D,createHref:U,push:(t,e)=>{G(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const n="PUSH",i=b(t,e,g(l),F.location);k.confirmTransitionTo(i,n,f,(t=>{if(!t)return;const e=U(i),{key:c,state:a}=i;if(s)if(r.pushState({key:c,state:a},"",e),u)o.href=e;else{const t=L.indexOf(F.location.key),e=L.slice(0,-1===t?0:t+1);e.push(i.key),L=e,P({action:n,location:i})}else G(void 0===a,"Browser history cannot push state in browsers that do not support HTML5 history"),o.href=e}))},replace:(t,e)=>{G(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const n="REPLACE",i=b(t,e,g(l),F.location);k.confirmTransitionTo(i,n,f,(t=>{if(!t)return;const e=U(i),{key:c,state:a}=i;if(s)if(r.replaceState({key:c,state:a},"",e),u)o.replace(e);else{const t=L.indexOf(F.location.key);-1!==t&&(L[t]=i.key),P({action:n,location:i})}else G(void 0===a,"Browser history cannot replace state in browsers that do not support HTML5 history"),o.replace(e)}))},go:H,goBack:()=>H(-1),goForward:()=>H(1),block:(t="")=>{const e=k.setPrompt(t);return M||(_(1),M=!0),()=>(M&&(M=!1,_(-1)),e())},listen:t=>{const e=k.appendListener(t);return _(1),()=>{_(-1),e()}},win:t};return F},hash:(t,e={})=>{let n=!1,r=null,o=0,i=!1;const s=t.location,c=t.history,a=E(t.navigator),u=null!=e.keyLength?e.keyLength:6,{getUserConfirmation:f=j,hashType:l="slash"}=e,h=e.basename?p(v(e.basename)):"",{encodePath:d,decodePath:O}=J[l],x=()=>{const t=s.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},k=t=>{const e=s.href.indexOf("#");s.replace(s.href.slice(0,e>=0?e:0)+"#"+t)},P=()=>{let t=O(x());return G(!h||y(t,h),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+h+'".'),h&&(t=w(t,h)),b(t,void 0,g(u))},S=K(),N=t=>{Object.assign(F,t),F.length=c.length,S.notifyListeners(F.location,F.action)},C=()=>{const t=x(),e=d(t);if(t!==e)k(e);else{const t=P(),e=F.location;if(!n&&A(e,t))return;if(r===m(t))return;r=null,T(t)}},T=t=>{if(n)n=!1,N();else{const e="POP";S.confirmTransitionTo(t,e,f,(n=>{n?N({action:e,location:t}):D(t)}))}},D=t=>{let e=U.lastIndexOf(m(F.location)),r=U.lastIndexOf(m(t));-1===e&&(e=0),-1===r&&(r=0);const o=e-r;o&&(n=!0,H(o))},L=x(),R=d(L);L!==R&&k(R);const M=P();let U=[m(M)];const H=t=>{G(a,"Hash history go(n) causes a full page reload in this browser"),c.go(t)},_=(t,e)=>{o+=e,1===o?t.addEventListener("hashchange",C):0===o&&t.removeEventListener("hashchange",C)},F={length:c.length,action:"POP",location:M,createHref:t=>"#"+d(h+m(t)),push:(t,e)=>{G(void 0===e,"Hash history cannot push state; it is ignored");const n="PUSH",o=b(t,void 0,g(u),F.location);S.confirmTransitionTo(o,n,f,(t=>{if(!t)return;const e=m(o),i=d(h+e);if(x()!==i){r=e,(t=>{s.hash=t})(i);const t=U.lastIndexOf(m(F.location)),c=U.slice(0,-1===t?0:t+1);c.push(e),U=c,N({action:n,location:o})}else G(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),N()}))},replace:(t,e)=>{G(void 0===e,"Hash history cannot replace state; it is ignored");const n="REPLACE",o=b(t,void 0,g(u),F.location);S.confirmTransitionTo(o,n,f,(t=>{if(!t)return;const e=m(o),i=d(h+e);x()!==i&&(r=e,k(i));const s=U.indexOf(m(F.location));-1!==s&&(U[s]=e),N({action:n,location:o})}))},go:H,goBack:()=>H(-1),goForward:()=>H(1),block:(e="")=>{const n=S.setPrompt(e);return i||(_(t,1),i=!0),()=>(i&&(i=!1,_(t,-1)),n())},listen:e=>{const n=S.appendListener(e);return _(t,1),()=>{_(t,-1),n()}},win:t};return F}};let X=class{constructor(e){t(this,e),this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=(t={})=>{if(this.history&&t.scrollToId&&"browser"===this.historyType){const e=this.history.win.document.getElementById(t.scrollToId);if(e)return e.scrollIntoView()}this.scrollTo(t.scrollTopOffset||this.scrollTopOffset)},this.isServer=r(this,"isServer"),this.queue=r(this,"queue")}componentWillLoad(){this.history=Q[this.historyType](this.el.ownerDocument.defaultView),this.history.listen((t=>{t=z(t,this.root),this.location=t})),this.location=z(this.history.location,this.root)}scrollTo(t){const e=this.history;if(null!=t&&!this.isServer&&e)return"POP"===e.action&&Array.isArray(e.location.scrollPosition)?this.queue.write((()=>{e&&e.location&&Array.isArray(e.location.scrollPosition)&&e.win.scrollTo(e.location.scrollPosition[0],e.location.scrollPosition[1])})):this.queue.write((()=>{e.win.scrollTo(0,t)}))}render(){if(this.location&&this.history)return e(k.Provider,{state:{historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated}},e("slot",null))}get el(){return n(this)}};export{B as app_root,W as stencil_route,q as stencil_route_switch,X as stencil_router}